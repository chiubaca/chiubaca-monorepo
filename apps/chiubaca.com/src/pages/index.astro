---
import { getCollection } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";

const blogs = await getCollection("permanent-notes");

const liveBlogs = blogs.filter((blog) => blog.data.status === "live");
---

<BaseLayout>
  <main class="mx-auto max-w-[65ch]">
    <h1>Writing</h1>

    <ul>
      {
        liveBlogs.map((blog) => {
          return (
            <a class="link-hover link" href={blog.slug}>
              <li>{blog.data.title}</li>
            </a>
          );
        })
      }
    </ul>
  </main>
</BaseLayout>
