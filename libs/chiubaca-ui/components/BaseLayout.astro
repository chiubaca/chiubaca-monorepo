---
import { ThemeToggle } from "@chiubaca-ui";
import type { BaseLayoutProps as Props } from "./BaseLayoutProps";

const { titlePrefix, title, breadcrumbs } = Astro.props;

import "@fontsource/ibm-plex-sans";
import "@fontsource/ibm-plex-mono";
---

<!doctype html>
<html lang="en" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <slot name="head" />
    <title>{titlePrefix} {title && `| ${title}`}</title>
  </head>
  <body>
    <div class="mx-auto max-w-[65ch] px-5 pb-10 md:px-0">
      <div
        class="fixed right-0 mr-3 mt-8 flex justify-end rounded-full p-2 backdrop-blur-md hover:opacity-75 md:m-8"
      >
        <ThemeToggle />
      </div>
      <header class="flex items-center justify-between py-10">
        <div class="font-mono">
          <a href="/" class="py-2 hover:link hover:text-primary">$chiubaca</a>
          {
            breadcrumbs &&
              breadcrumbs.map((b) => (
                <a href={b.href} class="hover:opacity-75">
                  {b.label}
                </a>
              ))
          }
        </div>
      </header>
      <slot />
      <footer class="py-10">
        <hr class="py-5" />
        <slot name="footer" />

        <p>
          Follow me on:
          <a class="link hover:opacity-75" href="https://github.com/chiubaca">
            Github</a
          >
          <span>/</span>
          <a class="link hover:opacity-75" href="https://twitter.com/chiubaca">
            X (Twitter)</a
          >
          <span>/</span>
          <a class="link hover:opacity-75" href="https://mas.to/@chiubaca">
            Mastodon</a
          >
          <span>/</span>
          <a
            class="link hover:opacity-75"
            href="https://www.linkedin.com/in/achiu1/"
          >
            LinkedIn</a
          >
        </p>
      </footer>
    </div>
  </body>

  <slot name="scripts" />
</html>
